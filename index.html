<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geomatica | Spatial Intelligence</title>
    <!-- 1. Tailwind CSS (Styling) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Smooth scrolling */
        html { scroll-behavior: smooth; }
        .hide { display: none !important; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Custom scrollbar for detail view */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #0891b2; }
    </style>
</head>
<body class="bg-slate-50 text-slate-700 font-sans selection:bg-cyan-200 selection:text-slate-900">

    <!-- ================= MAIN SITE CONTENT ================= -->
    <div id="main-content">
        
        <!-- Navigation -->
        <nav class="fixed w-full z-50 bg-white/90 backdrop-blur-md border-b border-slate-200 shadow-sm">
            <div class="container mx-auto px-6 h-20 flex items-center justify-between">
                <div class="flex items-center gap-2 font-bold text-2xl tracking-tighter text-slate-900">
                    <i data-lucide="layers" class="text-cyan-600"></i>
                    GEOMATICA
                </div>
                <div class="hidden md:flex gap-8 text-sm font-medium text-slate-600">
                    <a href="#services" class="hover:text-cyan-600 transition-colors">Services</a>
                    <a href="#portfolio" class="hover:text-cyan-600 transition-colors">Portfolio</a>
                    <a href="#contact" class="hover:text-cyan-600 transition-colors">Contact</a>
                </div>
                <a href="#contact" class="hidden md:block px-6 py-2 bg-cyan-600 text-white rounded-md font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-600/20">
                    Hire Geomatica
                </a>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="relative pt-32 pb-20 md:pt-48 md:pb-32 px-6 overflow-hidden bg-white">
            <!-- Background Effects -->
            <div class="absolute inset-0 z-0 opacity-[0.03] pointer-events-none">
                <div class="absolute top-0 left-0 w-full h-full bg-[linear-gradient(to_right,#000000_1px,transparent_1px),linear-gradient(to_bottom,#000000_1px,transparent_1px)] bg-[size:24px_24px]"></div>
                <div class="absolute right-0 top-20 w-96 h-96 bg-cyan-400 rounded-full mix-blend-multiply filter blur-[128px] opacity-50"></div>
                <div class="absolute left-0 bottom-0 w-96 h-96 bg-blue-400 rounded-full mix-blend-multiply filter blur-[128px] opacity-50"></div>
            </div>

            <div class="container mx-auto relative z-10 max-w-4xl text-center">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 border border-slate-300 text-cyan-700 text-xs font-medium mb-6 uppercase tracking-wider">
                    <span class="w-2 h-2 rounded-full bg-cyan-500 animate-pulse"></span>
                    Open for Commissions
                </div>
                <h1 class="text-5xl md:text-7xl font-extrabold text-slate-900 leading-tight mb-8">
                    Turning Complex Data into <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-600 to-blue-600">Spatial Intelligence.</span>
                </h1>
                <p class="text-xl text-slate-600 mb-10 max-w-2xl mx-auto">
                    Geomatica is a specialized freelance consultancy bridging the gap between raw spatial data and actionable insights through modern GIS analysis and web mapping.
                </p>
                <div class="flex flex-col md:flex-row gap-4 justify-center">
                    <a href="#portfolio" class="px-8 py-3 bg-cyan-600 text-white rounded-md font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-600/20">View Projects</a>
                    <a href="#services" class="px-8 py-3 border border-slate-300 text-slate-600 rounded-md font-bold hover:border-cyan-600 hover:text-cyan-600 transition-colors bg-white">Services</a>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-24 bg-slate-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Core Capabilities</h2>
                    <div class="h-1 w-20 bg-cyan-600 mx-auto rounded"></div>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Card 1 -->
                    <div class="bg-white p-8 rounded-xl border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all duration-300 group shadow-sm">
                        <div class="mb-6 bg-slate-50 w-16 h-16 rounded-lg flex items-center justify-center group-hover:bg-cyan-50 transition-colors border border-slate-100">
                            <i data-lucide="map" class="text-cyan-600 w-8 h-8"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Advanced Cartography</h3>
                        <p class="text-slate-600 text-sm">Creating visually stunning, publication-ready maps that communicate complex spatial data clearly.</p>
                    </div>
                    <!-- Card 2 -->
                    <div class="bg-white p-8 rounded-xl border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all duration-300 group shadow-sm">
                        <div class="mb-6 bg-slate-50 w-16 h-16 rounded-lg flex items-center justify-center group-hover:bg-cyan-50 transition-colors border border-slate-100">
                            <i data-lucide="globe" class="text-cyan-600 w-8 h-8"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Web GIS Development</h3>
                        <p class="text-slate-600 text-sm">Interactive web mapping applications using Leaflet, Mapbox, and OpenLayers tailored to your data.</p>
                    </div>
                    <!-- Card 3 -->
                    <div class="bg-white p-8 rounded-xl border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all duration-300 group shadow-sm">
                        <div class="mb-6 bg-slate-50 w-16 h-16 rounded-lg flex items-center justify-center group-hover:bg-cyan-50 transition-colors border border-slate-100">
                            <i data-lucide="bar-chart-3" class="text-cyan-600 w-8 h-8"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Spatial Analysis</h3>
                        <p class="text-slate-600 text-sm">Deep dive data analytics, site selection, suitability modeling, and demographic profiling.</p>
                    </div>
                    <!-- Card 4 -->
                    <div class="bg-white p-8 rounded-xl border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all duration-300 group shadow-sm">
                        <div class="mb-6 bg-slate-50 w-16 h-16 rounded-lg flex items-center justify-center group-hover:bg-cyan-50 transition-colors border border-slate-100">
                            <i data-lucide="database" class="text-cyan-600 w-8 h-8"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Geodatabase Mgmt</h3>
                        <p class="text-slate-600 text-sm">Design, implementation, and maintenance of robust spatial databases (PostGIS, Geopackage).</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Portfolio Section -->
        <section id="portfolio" class="py-24 px-6 bg-white">
            <div class="container mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-6">
                    <div>
                        <h2 class="text-3xl font-bold text-slate-900 mb-4">Featured Projects</h2>
                        <p class="text-slate-600">A selection of recent mapping and analysis work.</p>
                    </div>
                    
                    <!-- Filter Buttons -->
                    <div class="flex bg-slate-100 p-1 rounded-lg border border-slate-200" id="filter-container">
                        <button onclick="filterProjects('all')" class="filter-btn px-4 py-2 rounded-md text-sm font-medium bg-white text-cyan-700 shadow-sm transition-all border border-slate-200">All</button>
                        <button onclick="filterProjects('Analysis')" class="filter-btn px-4 py-2 rounded-md text-sm font-medium text-slate-500 hover:text-cyan-700 transition-all">Analysis</button>
                        <button onclick="filterProjects('Cartography')" class="filter-btn px-4 py-2 rounded-md text-sm font-medium text-slate-500 hover:text-cyan-700 transition-all">Cartography</button>
                        <button onclick="filterProjects('Resources')" class="filter-btn px-4 py-2 rounded-md text-sm font-medium text-slate-500 hover:text-cyan-700 transition-all">Resources</button>
                    </div>
                </div>

                <!-- Project Grid -->
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="project-grid">
                    
                    <!-- Project 1: Urban Sim -->
                    <div class="project-card group bg-white rounded-xl overflow-hidden border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all hover:-translate-y-1 flex flex-col cursor-pointer shadow-sm" 
                         data-category="Analysis" onclick="openProject('urban-sim')">
                        <div class="h-48 w-full relative overflow-hidden bg-slate-100">
                            <img src="FSA_301.jpg" alt="Urban Sim" class="w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-all duration-500 group-hover:scale-105" onerror="this.src='https://placehold.co/600x400/f1f5f9/475569?text=Map+Image'">
                            <div class="absolute top-4 right-4 bg-white/90 px-2 py-1 rounded text-xs text-slate-900 font-mono border border-slate-200 shadow-sm backdrop-blur-sm">Analysis</div>
                        </div>
                        <div class="p-6 flex-1 flex flex-col">
                            <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-cyan-600 transition-colors">Modelling Urban Expansion</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-1">Simulation of urban expansion trends using Cellular Automata (CA) and proximity constraints.</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="px-2 py-1 bg-slate-100 border border-slate-200 rounded text-xs text-cyan-700 font-mono">Cellular Automata</span>
                                <span class="px-2 py-1 bg-slate-100 border border-slate-200 rounded text-xs text-cyan-700 font-mono">Prediction</span>
                            </div>
                        </div>
                    </div>

                    <!-- Project 2: Flood Vulnerability -->
                    <div class="project-card group bg-white rounded-xl overflow-hidden border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all hover:-translate-y-1 flex flex-col cursor-pointer shadow-sm" 
                         data-category="Analysis" onclick="openProject('remote-sensing')">
                        <div class="h-48 w-full relative overflow-hidden bg-slate-100">
                            <img src="Flood_01.jpg" alt="Flood Assessment" class="w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-all duration-500 group-hover:scale-105" onerror="this.src='https://placehold.co/600x400/f1f5f9/475569?text=Flood+Map'">
                            <div class="absolute top-4 right-4 bg-white/90 px-2 py-1 rounded text-xs text-slate-900 font-mono border border-slate-200 shadow-sm backdrop-blur-sm">Analysis</div>
                        </div>
                        <div class="p-6 flex-1 flex flex-col">
                            <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-cyan-600 transition-colors">Flood Vulnerability Assessment</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-1">Comprehensive assessment of flood vulnerability using geospatial analysis.</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="px-2 py-1 bg-slate-100 border border-slate-200 rounded text-xs text-cyan-700 font-mono">Flood Mapping</span>
                                <span class="px-2 py-1 bg-slate-100 border border-slate-200 rounded text-xs text-cyan-700 font-mono">Risk Assessment</span>
                            </div>
                        </div>
                    </div>

                    <!-- Project 3: Site Suitability (CHANGED FROM LULC) -->
                    <div class="project-card group bg-white rounded-xl overflow-hidden border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all hover:-translate-y-1 flex flex-col cursor-pointer shadow-sm" 
                         data-category="Analysis" onclick="openProject('site-suitability')">
                        <div class="h-48 w-full relative overflow-hidden bg-slate-100">
                            <img src="Site_suit_result.jpg" alt="Site Suitability" class="w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-all duration-500 group-hover:scale-105" onerror="this.src='https://placehold.co/600x400/f1f5f9/475569?text=Site+Suitability+Map'">
                            <div class="absolute top-4 right-4 bg-white/90 px-2 py-1 rounded text-xs text-slate-900 font-mono border border-slate-200 shadow-sm backdrop-blur-sm">Analysis</div>
                        </div>
                        <div class="p-6 flex-1 flex flex-col">
                            <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-cyan-600 transition-colors">Site Suitability Analysis</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-1">Multi-criteria decision analysis to identify optimal locations based on proximity and topographical factors.</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="px-2 py-1 bg-slate-100 border border-slate-200 rounded text-xs text-cyan-700 font-mono">MCDA</span>
                                <span class="px-2 py-1 bg-slate-100 border border-slate-200 rounded text-xs text-cyan-700 font-mono">AHP</span>
                            </div>
                        </div>
                    </div>

                    <!-- Project 4: PDF -->
                    <div class="project-card group bg-white rounded-xl overflow-hidden border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all hover:-translate-y-1 flex flex-col cursor-pointer shadow-sm" 
                         data-category="Resources" onclick="openProject('vector-framework')">
                        <div class="h-48 w-full relative overflow-hidden bg-slate-50 flex flex-col items-center justify-center text-slate-400">
                             <i data-lucide="file-text" class="w-12 h-12 mb-2 text-cyan-600/50"></i>
                             <span class="text-xs font-mono text-slate-500">PDF DOCUMENT</span>
                            <div class="absolute top-4 right-4 bg-white/90 px-2 py-1 rounded text-xs text-slate-900 font-mono border border-slate-200 shadow-sm backdrop-blur-sm">Resources</div>
                        </div>
                        <div class="p-6 flex-1 flex flex-col">
                            <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-cyan-600 transition-colors">Vector Digitization Framework</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-1">A comprehensive guide to GIS digitization standards, topology rules, and data structuring.</p>
                            <span class="text-cyan-600 text-sm font-bold flex items-center gap-1"><i data-lucide="download" class="w-4 h-4"></i> Download PDF</span>
                        </div>
                    </div>

                     <!-- Project 5: Historic -->
                     <div class="project-card group bg-white rounded-xl overflow-hidden border border-slate-200 hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-100 transition-all hover:-translate-y-1 flex flex-col cursor-pointer shadow-sm" 
                          data-category="Cartography" onclick="openProject('historic')">
                        <div class="h-48 w-full relative overflow-hidden bg-slate-100">
                            <img src="FSAIIILULC_1990.jpg" alt="Historic Map" class="w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-all duration-500 group-hover:scale-105" onerror="this.src='https://placehold.co/600x400/f1f5f9/475569?text=1990+Map'">
                            <div class="absolute top-4 right-4 bg-white/90 px-2 py-1 rounded text-xs text-slate-900 font-mono border border-slate-200 shadow-sm backdrop-blur-sm">Cartography</div>
                        </div>
                        <div class="p-6 flex-1 flex flex-col">
                            <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-cyan-600 transition-colors">Historical Land Use Baseline</h3>
                            <p class="text-slate-600 text-sm mb-6 flex-1">Establishing the 1990 baseline for urban sprawl analysis.</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="px-2 py-1 bg-slate-100 border border-slate-200 rounded text-xs text-cyan-700 font-mono">Historical Data</span>
                                <span class="px-2 py-1 bg-slate-100 border border-slate-200 rounded text-xs text-cyan-700 font-mono">Mapping</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-24 px-6 relative bg-slate-50">
            <div class="container mx-auto max-w-4xl bg-white p-8 md:p-12 rounded-2xl border border-slate-200 text-center relative z-10 shadow-lg shadow-slate-200/50">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-6">Ready to visualize your data?</h2>
                <p class="text-slate-600 mb-8 max-w-xl mx-auto">
                    Whether you need a custom web map, spatial analysis for a research project, or a full GIS implementation, I'm here to help.
                </p>
                <div class="flex flex-col md:flex-row items-center justify-center gap-6">
                    <a href="mailto:abhijeetpawar1305@gmail.com" class="flex items-center gap-3 bg-cyan-600 text-white px-8 py-4 rounded-lg font-bold hover:bg-cyan-700 transition-colors w-full md:w-auto justify-center shadow-lg shadow-cyan-600/20">
                        <i data-lucide="mail" class="w-5 h-5"></i> Send an Email
                    </a>
                    <div class="flex gap-4">
                        <a href="https://www.linkedin.com/in/abhijeetpawar1305/" target="_blank" class="p-4 bg-slate-100 rounded-lg text-slate-600 hover:text-cyan-700 hover:bg-cyan-50 transition-colors border border-slate-200">
                            <i data-lucide="linkedin" class="w-5 h-5"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="py-8 text-center text-slate-500 text-sm border-t border-slate-200 bg-white">
            <div class="flex items-center justify-center gap-2 mb-4">
                <i data-lucide="layers" class="w-5 h-5 text-slate-400"></i>
                <span class="font-bold text-slate-600">GEOMATICA</span>
            </div>
            <p>Â© 2025 Geomatica. All Rights Reserved.</p>
        </footer>
    </div>

    <!-- ================= DETAIL VIEW (Hidden by Default) ================= -->
    <div id="detail-view" class="fixed inset-0 bg-white z-[100] overflow-y-auto hide">
        <!-- Close Button -->
        <div class="fixed top-6 right-6 z-[101]">
            <button onclick="closeProject()" class="p-2 bg-white rounded-full hover:bg-slate-100 text-slate-600 transition-colors border border-slate-200 shadow-md">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>

        <!-- UPDATED: Matched main site container width -->
        <div class="container mx-auto px-6 py-12">
            <!-- Back Link -->
            <button onclick="closeProject()" class="flex items-center gap-2 text-cyan-600 mb-8 hover:text-cyan-800 transition-colors font-medium">
                <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Portfolio
            </button>

            <!-- Content Container -->
            <div id="detail-content" class="fade-in">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Initialize Icons
        lucide.createIcons();

        // --- 1. PROJECT DATA ---
        const projectsData = {
            'urban-sim': {
                title: "Modelling Urban Expansion",
                category: "Spatial Analysis",
                // Main cover image
                image: "FSA_301.jpg",
                // Additional images for gallery
                gallery: [
                    "FSA_301.jpg", "FSA_302.jpg", "FSA_303.jpg", 
                    "FSA_304.jpg", "FSA_305.jpg", "FSA_306.jpg", 
                    "FSA_307.jpg", "FSA_308.jpg", "FSA_309.jpg"
                ],
                description: `
                    <p class="text-xl text-slate-600 mb-6">Advanced simulation of urban expansion trends using Cellular Automata (CA) and proximity constraints.</p>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-8">
                        <h3 class="text-slate-900 font-bold mb-4">Project Overview</h3>
                        <p class="text-slate-600 mb-4">This project involved simulating the urban expansion of Pune City over a 40-year period. Land Use (LU) classification was performed for every five years from 1990 to 2025 using satellite imagery in Google Earth Engine. The MOLUSCE plugin in QGIS was then used to train a Cellular Automata - Artificial Neural Network model. This model simulated the land use for 2025, which was then validated against the actual analyzed data for the same year before simulating a future scenario for 2030.</p>
                        
                        <h4 class="text-slate-900 font-bold mb-3 mt-6 border-t border-slate-200 pt-4">Land Use Area Statistics (1990-2030)</h4>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left text-slate-600 border border-slate-200 rounded-lg overflow-hidden">
                                <thead class="text-xs text-slate-700 uppercase bg-slate-100 border-b border-slate-200">
                                    <tr>
                                        <th class="px-4 py-3 font-bold">Class</th>
                                        <th class="px-4 py-3">1990 (Sqkm)</th>
                                        <th class="px-4 py-3">1990 (%)</th>
                                        <th class="px-4 py-3">2025 (Sqkm)</th>
                                        <th class="px-4 py-3">2025 (%)</th>
                                        <th class="px-4 py-3">Change %</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b border-slate-100 hover:bg-slate-50">
                                        <td class="px-4 py-3 font-medium text-slate-900">Built up</td>
                                        <td class="px-4 py-3">120.4</td>
                                        <td class="px-4 py-3">23.6</td>
                                        <td class="px-4 py-3">193.46</td>
                                        <td class="px-4 py-3">38.14</td>
                                        <td class="px-4 py-3">11.6</td>
                                    </tr>
                                    <tr class="bg-slate-50 border-b border-slate-100 hover:bg-white">
                                        <td class="px-4 py-3 font-medium text-slate-900">Vegetation</td>
                                        <td class="px-4 py-3">87.8</td>
                                        <td class="px-4 py-3">17.2</td>
                                        <td class="px-4 py-3">130.75</td>
                                        <td class="px-4 py-3">25.7</td>
                                        <td class="px-4 py-3">87.3</td>
                                    </tr>
                                    <tr class="bg-white border-b border-slate-100 hover:bg-slate-50">
                                        <td class="px-4 py-3 font-medium text-slate-900">Water body</td>
                                        <td class="px-4 py-3">8.4</td>
                                        <td class="px-4 py-3">1.6</td>
                                        <td class="px-4 py-3">5.96</td>
                                        <td class="px-4 py-3">1.17</td>
                                        <td class="px-4 py-3">-0.5</td>
                                    </tr>
                                    <tr class="bg-slate-50 border-b border-slate-100 hover:bg-white">
                                        <td class="px-4 py-3 font-medium text-slate-900">Barren Land</td>
                                        <td class="px-4 py-3">293.2</td>
                                        <td class="px-4 py-3">57.5</td>
                                        <td class="px-4 py-3">176.94</td>
                                        <td class="px-4 py-3">34.89</td>
                                        <td class="px-4 py-3">-18.4</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p class="text-xs text-slate-400 mt-2 italic">*Values represent Area in Square Kilometers.</p>
                        </div>

                        <!-- UPDATED: Key Findings (Vertical Stack) -->
                        <h4 class="text-slate-900 font-bold mb-3 mt-6 border-t border-slate-200 pt-4">Key Findings</h4>
                        <ul class="list-disc pl-5 text-slate-600 text-sm leading-relaxed space-y-3">
                            <li>The predictive model demonstrated decent accuracy, with an percentage of correctness - <strong>77.8%</strong> and a Kappa coefficient of <strong>69.7%</strong> when validating the 2025 simulation.</li>
                            <li>Based on the results of simulation, built-up in increased from <strong>193.46 Sqkm</strong> in 2025 to <strong>215.21 Sqkm</strong> in 2030, Vegetation decreased from 130.75 Sqkm to 123.64 Sqkm during the same period.</li>
                            <li>As result of rapid urbanisation, the area of barren land decreased from <strong>176.94 Sqkm</strong> in 2025 to <strong>165.18 Sqkm</strong> in 2030.</li>
                        </ul>
                    </div>
                `
            },
            'remote-sensing': {
                title: "Flood Vulnerability Assessment",
                category: "Analysis",
                image: "Flood_01.jpg",
                // Updated gallery with Flood images
                gallery: [
                    "Flood_01.jpg", "Flood_02.jpg", "Flood_03.jpg", 
                    "Flood_04.jpg", "Flood_05.jpg", "Flood_06.jpg",
                    "Flood_07.jpg", "Flood_08.jpg", "Flood_09.jpg",
                    "Flood_10.jpg", "Flood_11.jpg"
                ],
                description: `
                    <p class="text-xl text-slate-600 mb-6">Comprehensive assessment of flood vulnerability using geospatial analysis.</p>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-8">
                        <h3 class="text-slate-900 font-bold mb-4">Project Overview</h3>
                        <p class="text-slate-600 mb-6">This spatial analysis project evaluates flood risk across Thrissur Municipal Corporation by integrating topographical and meteorological data within Google Earth Engine. Using Weighted Overlay Analysis of five key variables - elevation, slope, flow accumulation, and rainfall (CHIRPS) - the study generates ward-level vulnerability zones to inform disaster management and resilient urban planning.</p>
                        
                        <h4 class="text-slate-900 font-bold mb-3 mt-6 border-t border-slate-200 pt-4">Key Findings</h4>
                        <ul class="list-disc pl-5 text-slate-600 text-sm leading-relaxed space-y-4">
                            <li>
                                <strong class="block text-slate-800 mb-1">Zonal Risk Classification:</strong>
                                Successfully categorized municipal wards into five distinct vulnerability classes, isolating specific "High" and "Very High" risk zones that require prioritized administrative intervention.
                            </li>
                            <li>
                                <strong class="block text-slate-800 mb-1">Temporal & Seasonal Analysis:</strong>
                                A comparative study of the 2018 extreme flood event versus 2024 data revealed significant shifts in vulnerability patterns during the Southwest Monsoon, highlighting dynamic risk factors beyond static topography.
                            </li>
                        </ul>

                        <h4 class="text-slate-900 font-bold mb-3 mt-8 border-t border-slate-200 pt-4">Parameters Analyzed</h4>
                        <div class="grid md:grid-cols-3 gap-4 mt-4">
                            <div class="bg-white p-4 rounded border border-slate-200 text-center shadow-sm">
                                <div class="text-cyan-600 font-bold">Topography</div>
                                <div class="text-xs text-slate-500">Elevation & Slope</div>
                            </div>
                            <div class="bg-white p-4 rounded border border-slate-200 text-center shadow-sm">
                                <div class="text-blue-600 font-bold">Hydrology</div>
                                <div class="text-xs text-slate-500">Flow Accumulation</div>
                            </div>
                            <div class="bg-white p-4 rounded border border-slate-200 text-center shadow-sm">
                                <div class="text-orange-600 font-bold">Climate</div>
                                <div class="text-xs text-slate-500">CHIRPS Rainfall</div>
                            </div>
                        </div>
                    </div>
                `
            },
            'site-suitability': {
                title: "Site Suitability Analysis",
                category: "Analysis",
                image: "Site_suit_result.jpg",
                // Updated gallery with Objects to support Captions
                gallery: [
                    { src: "Site_suit_result.jpg", caption: "GTF Site Suitability" },
                    { src: "Site_suit_02.jpg", caption: "Land Use Map" },
                    { src: "Site_suit_03.jpg", caption: "Road Proximity Map" },
                    { src: "Site_suit_04.jpg", caption: "Water Proximity Map" },
                    { src: "Site_suit_05.jpg", caption: "Slope Map" }
                ],
                description: `
                    <p class="text-xl text-slate-600 mb-6">Multi-criteria decision analysis (MCDA) for optimizing site selection using AHP.</p>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-8">
                        <h3 class="text-slate-900 font-bold mb-4">Project Overview</h3>
                        <p class="text-slate-600 mb-6">This analysis aimed to identify the most suitable locations for new Ultra-Modern Garbage Transfer Facilities (GTF) within the Bhopal Municipal Corporation area. Using a multi-criteria evaluation (MCE) approach in QGIS and Google Earth Engine, factors like proximity to roads, distance from water bodies, land use type, and slope were analyzed to generate a final suitability map.</p>
                        
                        <h4 class="text-slate-900 font-bold mb-3 mt-6 border-t border-slate-200 pt-4">Weightage and Example Calculation</h4>
                        <div class="overflow-x-auto mb-6">
                            <table class="w-full text-sm text-left text-slate-600 border border-slate-200 rounded-lg overflow-hidden">
                                <thead class="text-xs text-slate-700 uppercase bg-slate-100 border-b border-slate-200">
                                    <tr>
                                        <th class="px-4 py-3 font-bold">Sr No</th>
                                        <th class="px-4 py-3">Class</th>
                                        <th class="px-4 py-3">Weightage (%)</th>
                                        <th class="px-4 py-3">Ex Pixel value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b border-slate-100 hover:bg-slate-50">
                                        <td class="px-4 py-3">1</td>
                                        <td class="px-4 py-3 font-medium text-slate-900">Slope</td>
                                        <td class="px-4 py-3">15</td>
                                        <td class="px-4 py-3">4</td>
                                    </tr>
                                    <tr class="bg-slate-50 border-b border-slate-100 hover:bg-white">
                                        <td class="px-4 py-3">2</td>
                                        <td class="px-4 py-3 font-medium text-slate-900">Waterway</td>
                                        <td class="px-4 py-3">30</td>
                                        <td class="px-4 py-3">3</td>
                                    </tr>
                                    <tr class="bg-white border-b border-slate-100 hover:bg-slate-50">
                                        <td class="px-4 py-3">3</td>
                                        <td class="px-4 py-3 font-medium text-slate-900">Road</td>
                                        <td class="px-4 py-3">25</td>
                                        <td class="px-4 py-3">2</td>
                                    </tr>
                                    <tr class="bg-slate-50 border-b border-slate-100 hover:bg-white">
                                        <td class="px-4 py-3">4</td>
                                        <td class="px-4 py-3 font-medium text-slate-900">LULC</td>
                                        <td class="px-4 py-3">30</td>
                                        <td class="px-4 py-3">4</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="bg-white p-5 rounded border border-slate-200 text-sm text-slate-600 shadow-sm">
                            <p class="mb-2 font-medium text-slate-800">Calculation Example:</p>
                            <p class="mb-2">For a pixel with:</p>
                            <ul class="list-disc list-inside mb-4 ml-2 space-y-1 text-slate-500">
                                <li>Slope class = 4</li>
                                <li>LULC class = 3</li>
                                <li>Water proximity class = 2</li>
                                <li>Road proximity class = 4</li>
                            </ul>
                            <p class="mb-2 font-mono text-xs bg-slate-100 p-2 rounded">Result = 4*0.15 + 3*0.30 + 2*0.25 + 4*0.30</p>
                            <p class="text-lg text-cyan-700 mt-2"><strong>Suitability Score = 3.2</strong></p>
                        </div>

                        <h4 class="text-slate-900 font-bold mb-3 mt-8 border-t border-slate-200 pt-4">Key Findings</h4>
                        <ul class="list-disc pl-5 text-slate-600 text-sm leading-relaxed space-y-3">
                            <li>Generated a suitability index map highlighting Most Suitable, Less Suitable, Moderately Suitable, and Least Suitable zones.</li>
                            <li>Pinpointed specific parcels of land that meet all the necessary criteria for GTF facility placement.</li>
                            <li>Provided a data-driven basis for municipal decision-making on waste management infrastructure.</li>
                        </ul>
                    </div>
                `
            },
            'vector-framework': {
                title: "Vector Digitization Framework",
                category: "Resources",
                image: "Intro_GIS.pdf",
                isPdf: true,
                description: `
                    <p class="text-xl text-slate-600 mb-6">A technical resource detailing best practices for vectorization and topology rules.</p>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-8 flex flex-col items-center justify-center text-center">
                        <i data-lucide="file-text" class="w-16 h-16 text-cyan-600 mb-4"></i>
                        <h3 class="text-slate-900 font-bold mb-2">Download Resource</h3>
                        <p class="text-slate-600 mb-6 max-w-md">This PDF guide covers layer structuring, snapping environments, and attribute table management in QGIS.</p>
                        <a href="Intro_GIS.pdf" download class="px-8 py-3 bg-cyan-600 text-white rounded-md font-bold hover:bg-cyan-700 transition-colors flex items-center gap-2 shadow-lg shadow-cyan-600/20">
                            <i data-lucide="download" class="w-5 h-5"></i> Download PDF
                        </a>
                    </div>
                `
            },
            'historic': {
                title: "Historical Land Use Baseline",
                category: "Cartography",
                image: "FSAIIILULC_1990.jpg",
                // Assuming just one image for now, can add more later
                gallery: ["FSAIIILULC_1990.jpg"],
                description: `
                    <p class="text-xl text-slate-600 mb-6">Establishing the 1990 baseline for urban sprawl analysis.</p>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-8">
                        <h3 class="text-slate-900 font-bold mb-4">Project Overview</h3>
                        <p class="text-slate-600 mb-4">Digitization of archival maps and early satellite imagery was performed to reconstruct the urban footprint of 1990. This serves as the 'Ground Zero' for all subsequent change detection models.</p>
                    </div>
                `
            }
        };

        // --- 2. HISTORY & NAVIGATION HANDLERS ---
        
        // Listen for back/forward button clicks
        window.addEventListener('popstate', (event) => {
            if (event.state && event.state.projectId) {
                renderProjectDetails(event.state.projectId);
            } else {
                renderMainView();
            }
        });

        // Called when user clicks a project card
        function openProject(id) {
            // Push new state to history
            history.pushState({projectId: id}, "", `#${id}`);
            // Render the view
            renderProjectDetails(id);
        }

        // Called when user clicks "Back to Portfolio"
        function closeProject() {
            // Check if we can go back in history
            if (history.state && history.state.projectId) {
                history.back();
            } else {
                // Fallback for direct loads or other edge cases
                renderMainView();
                // Clear the hash without adding to history
                history.replaceState(null, "", " ");
            }
        }

        // --- 3. UI RENDERING FUNCTIONS (Internal) ---

        function renderProjectDetails(id) {
            const data = projectsData[id];
            if(!data) return;

            const contentDiv = document.getElementById('detail-content');
            
            // Gather all images (Main + Gallery)
            let allImages = [];
            
            // Helper to normalize image objects
            const normalizeImage = (img) => {
                return typeof img === 'string' ? { src: img, caption: '' } : img;
            };

            // Add main image if not in gallery
            if (data.image) {
                allImages.push({ src: data.image, caption: '' });
            }
            
            // Add gallery images (deduping logic adjusted for objects)
            if (data.gallery) {
                data.gallery.forEach(item => {
                    const normItem = normalizeImage(item);
                    // Avoid duplicates if main image matches a gallery image src
                    if (!allImages.some(existing => existing.src === normItem.src)) {
                        allImages.push(normItem);
                    } else if (normItem.caption) {
                        // If it's a dupe but has a caption, update the existing entry with the caption
                        const index = allImages.findIndex(existing => existing.src === normItem.src);
                        allImages[index].caption = normItem.caption;
                    }
                });
            }

            // Build Images HTML (Left Column)
            let imagesHtml = '';
            if (data.isPdf) {
                 imagesHtml = `
                    <div class="w-full h-96 bg-slate-50 border border-slate-200 rounded-xl flex items-center justify-center sticky top-0">
                        <div class="text-center">
                            <i data-lucide="file-text" class="w-16 h-16 text-slate-400 mx-auto mb-4"></i>
                            <span class="text-slate-500 font-mono block">PDF Document Preview</span>
                            <a href="${data.image}" download class="mt-4 inline-flex items-center gap-2 px-6 py-2 bg-cyan-600 text-white rounded-md font-bold hover:bg-cyan-700 transition-colors">
                                <i data-lucide="download" class="w-4 h-4"></i> Download
                            </a>
                        </div>
                    </div>`;
            } else {
                imagesHtml = allImages.map(img => `
                    <div class="w-full mb-8">
                        <div class="rounded-xl overflow-hidden border border-slate-200 shadow-sm">
                            <img src="${img.src}" class="w-full h-auto object-cover block" onerror="this.src='https://placehold.co/800x600/f1f5f9/475569?text=Project+Image'">
                        </div>
                        ${img.caption ? `<p class="text-center text-sm text-slate-500 mt-2 font-medium">${img.caption}</p>` : ''}
                    </div>
                `).join('');
            }

            // Build Layout
            const html = `
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
                    <!-- Left Column: Images (Scrollable) -->
                    <div class="lg:col-span-8">
                        ${imagesHtml}
                    </div>

                    <!-- Right Column: Content -->
                    <div class="lg:col-span-4">
                        <div> <!-- Removed lg:sticky lg:top-8 -->
                            <span class="text-cyan-600 font-mono text-sm uppercase tracking-widest mb-2 block font-semibold">${data.category}</span>
                            <h1 class="text-3xl md:text-5xl font-bold text-slate-900 mb-6 leading-tight">${data.title}</h1>
                            
                            <div class="prose prose-slate max-w-none prose-lg text-slate-600 mb-6">
                                ${data.description}
                            </div>

                            ${data.isPdf ? '' : `
                                <div class="text-sm text-slate-400 border-t border-slate-200 pt-4 mt-6">
                                    <p>&larr; Scroll page to view project gallery</p>
                                </div>
                            `}
                        </div>
                    </div>
                </div>
            `;

            contentDiv.innerHTML = html;
            lucide.createIcons();

            document.getElementById('main-content').classList.add('hide');
            document.getElementById('detail-view').classList.remove('hide');
            window.scrollTo(0,0);
        }

        function renderMainView() {
            document.getElementById('detail-view').classList.add('hide');
            document.getElementById('main-content').classList.remove('hide');
            lucide.createIcons();
        }

        // --- 4. FILTER LOGIC ---
        function filterProjects(category) {
            const cards = document.querySelectorAll('.project-card');
            const buttons = document.querySelectorAll('.filter-btn');

            buttons.forEach(btn => {
                if (btn.innerText.toLowerCase() === category.toLowerCase() || (category === 'all' && btn.innerText === 'All')) {
                    btn.classList.remove('text-slate-500', 'bg-white', 'border-slate-200');
                    btn.classList.add('bg-cyan-600', 'text-white', 'border-cyan-600', 'shadow-md');
                } else {
                    btn.classList.add('text-slate-500', 'bg-white', 'border-slate-200');
                    btn.classList.remove('bg-cyan-600', 'text-white', 'border-cyan-600', 'shadow-md');
                }
            });

            cards.forEach(card => {
                if (category === 'all' || card.getAttribute('data-category') === category) {
                    card.classList.remove('hide');
                    card.classList.add('fade-in');
                } else {
                    card.classList.add('hide');
                    card.classList.remove('fade-in');
                }
            });
        }
    </script>
</body>
</html>
